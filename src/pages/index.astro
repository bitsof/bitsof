---
import MainLayout from '../layouts/MainLayout.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
import { getCollection } from 'astro:content';

const posts = (await getCollection('blog'))
	.filter(post => !post.data.draft)
	.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
	.slice(0, 6);
---

<MainLayout title={SITE_TITLE} description={SITE_DESCRIPTION}>
	<div class="grid grid-cols-[280px_1fr] gap-8 py-16 max-lg:grid-cols-1">
		<aside class="sticky top-[100px] h-fit max-lg:static max-lg:max-w-sm max-lg:mx-auto">
			<div class="p-8 border border-gray-200 rounded-xl max-lg:p-6">
				<h2 class="text-2xl font-semibold mb-2">BitsOf</h2>
				<p class="text-base font-medium mb-4 text-black">We build data driven products for an AI future.</p>
				<p class="text-sm text-gray-500 leading-relaxed mb-6">Development services encompassing App/Web Development, Tooling, AI Business Automations, and Testing.</p>

				<a href="https://cal.com/thejeffdo/30min" class="block w-full py-3 px-6 bg-black text-white text-center no-underline rounded-lg text-sm font-medium transition-all duration-200 mb-3 hover:bg-gray-800" target="_blank" rel="noopener noreferrer">Book a call</a>

				<a href="#pricing" class="pricing-btn block w-full py-3 px-6 bg-white text-black text-center no-underline border border-gray-200 rounded-lg text-sm font-medium transition-all duration-200 hover:border-black">Starting at $5,000/month</a>
			</div>
		</aside>

		<main class="min-w-0">
			<section class="mb-12">
				<div class="flex gap-2 mb-8">
					<button class="tab px-4 py-2 border border-gray-200 rounded-full bg-white text-sm cursor-pointer transition-all duration-200 hover:border-black active" data-tab="work">Client Work</button>
					<button class="tab px-4 py-2 border border-gray-200 rounded-full bg-white text-sm cursor-pointer transition-all duration-200 hover:border-black" data-tab="blog">Blog</button>
				</div>

				<div class="tab-content" id="work-content">
					<div class="flex flex-col gap-4">
						<div class="p-5 border border-gray-200 rounded-lg transition-all duration-200 hover:border-black">
							<h4 class="text-base font-semibold mb-2">BitsOf Automations</h4>
							<div class="flex flex-wrap gap-2 mb-3">
								<span class="text-xs py-1 px-2 bg-gray-100 rounded text-gray-600">Automations</span>
								<span class="text-xs py-1 px-2 bg-gray-100 rounded text-gray-600">Data Processing</span>
								<span class="text-xs py-1 px-2 bg-gray-100 rounded text-gray-600">Analytics</span>
								<span class="text-xs py-1 px-2 bg-gray-100 rounded text-gray-600">Tooling</span>
							</div>
							<p class="text-gray-500 text-sm leading-relaxed m-0">We develop custom Business Automations which finds customers, detects anomalies, processes data, produces dashboards and alerts to increase revenue and prevent losses for businesses large and small.</p>
						</div>
						<div class="p-5 border border-gray-200 rounded-lg transition-all duration-200 hover:border-black">
							<h4 class="text-base font-semibold mb-2">Yap (AI Coach)</h4>
							<div class="flex flex-wrap gap-2 mb-3">
								<span class="text-xs py-1 px-2 bg-gray-100 rounded text-gray-600">AI</span>
								<span class="text-xs py-1 px-2 bg-gray-100 rounded text-gray-600">App/Web Development</span>
							</div>
							<p class="text-gray-500 text-sm leading-relaxed m-0">AI Coach web and mobile app, focused on increasing clarity and completing tasks faster using cutting edge productivity techniques.</p>
						</div>
						<div class="p-5 border border-gray-200 rounded-lg transition-all duration-200 hover:border-black">
							<h4 class="text-base font-semibold mb-2">Triai (Autonomous AI Agent Platform)</h4>
							<div class="flex flex-wrap gap-2 mb-3">
								<span class="text-xs py-1 px-2 bg-gray-100 rounded text-gray-600">AI</span>
								<span class="text-xs py-1 px-2 bg-gray-100 rounded text-gray-600">Fintech</span>
								<span class="text-xs py-1 px-2 bg-gray-100 rounded text-gray-600">Tooling</span>
							</div>
							<p class="text-gray-500 text-sm leading-relaxed m-0">Autonomous AI Agent Platform with rich text editing to triage financial systems and generate reports.</p>
						</div>
						<div class="p-5 border border-gray-200 rounded-lg transition-all duration-200 hover:border-black">
							<h4 class="text-base font-semibold mb-2">MIA Containers (Large Scale Ecommerce Store)</h4>
							<div class="flex flex-wrap gap-2 mb-3">
								<span class="text-xs py-1 px-2 bg-gray-100 rounded text-gray-600">Ecommerce</span>
								<span class="text-xs py-1 px-2 bg-gray-100 rounded text-gray-600">App/Web Development</span>
							</div>
							<p class="text-gray-500 text-sm leading-relaxed m-0">Enterprise Ecommerce store dealing with creating American containers for local pickup at hundreds of locations.</p>
						</div>
						<div class="p-5 border border-gray-200 rounded-lg transition-all duration-200 hover:border-black">
							<h4 class="text-base font-semibold mb-2">Yapdo (AI Dashboard System)</h4>
							<div class="flex flex-wrap gap-2 mb-3">
								<span class="text-xs py-1 px-2 bg-gray-100 rounded text-gray-600">AI</span>
								<span class="text-xs py-1 px-2 bg-gray-100 rounded text-gray-600">Automations</span>
								<span class="text-xs py-1 px-2 bg-gray-100 rounded text-gray-600">Analytics</span>
							</div>
							<p class="text-gray-500 text-sm leading-relaxed m-0">Autonomous AI Agent Dashboard system allowing AI agents to dynamically create dashboards for your business and your life, completing tasks on a daily, weekly, and monthly cadence, all in one place.</p>
						</div>
						<div class="p-5 border border-gray-200 rounded-lg transition-all duration-200 hover:border-black">
							<h4 class="text-base font-semibold mb-2">ScrapEverything (Data Scraping Services)</h4>
							<div class="flex flex-wrap gap-2 mb-3">
								<span class="text-xs py-1 px-2 bg-gray-100 rounded text-gray-600">Data Processing</span>
								<span class="text-xs py-1 px-2 bg-gray-100 rounded text-gray-600">Analytics</span>
								<span class="text-xs py-1 px-2 bg-gray-100 rounded text-gray-600">Tooling</span>
							</div>
							<p class="text-gray-500 text-sm leading-relaxed m-0">Scraping System to automatically scrape data from various sources to help businesses find customers, close sales, and find actionable insights.</p>
						</div>
						<div class="p-5 border border-gray-200 rounded-lg transition-all duration-200 hover:border-black">
							<h4 class="text-base font-semibold mb-2">GeniePapa (Couponing App)</h4>
							<div class="flex flex-wrap gap-2 mb-3">
								<span class="text-xs py-1 px-2 bg-gray-100 rounded text-gray-600">App/Web Development</span>
								<span class="text-xs py-1 px-2 bg-gray-100 rounded text-gray-600">Ecommerce</span>
							</div>
							<p class="text-gray-500 text-sm leading-relaxed m-0">Point of sales couponing service allowing companies to create promotional ads to drive customers to visit online and in store.</p>
						</div>
					</div>
				</div>

				<div class="tab-content hidden" id="blog-content">
					<div class="grid grid-cols-[repeat(auto-fill,minmax(180px,1fr))] gap-4">
						{posts.length > 0 ? (
							posts.map(post => (
								<a href={`/blog/${post.id}`} class="block p-5 border border-gray-200 rounded-lg transition-all duration-200 no-underline text-inherit hover:border-black">
									<span class="text-xs text-gray-500 block mb-2">{post.data.pubDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}</span>
									<h4 class="text-base font-semibold mb-1">{post.data.title}</h4>
									<p class="text-gray-500 text-sm m-0">{post.data.description}</p>
								</a>
							))
						) : (
							<p class="text-gray-500">No blog posts yet.</p>
						)}
					</div>
				</div>
			</section>

			<section class="py-12 border-t border-gray-200 mb-12" id="pricing">
				<h3 class="text-xs text-gray-500 uppercase tracking-wide mb-6">Pricing</h3>
				<div class="flex flex-col gap-4">
					<div class="p-6 border border-gray-200 rounded-lg">
						<h4 class="text-base font-semibold mb-3">Basic</h4>
						<p class="text-3xl font-semibold mb-3">$5,000<span class="text-sm font-normal text-gray-500">/month</span></p>
						<ul class="list-none p-0 mt-3">
							<li class="text-sm text-gray-600 py-1 pl-5 relative before:content-['✓'] before:absolute before:left-0 before:text-black">2 updates per week</li>
							<li class="text-sm text-gray-600 py-1 pl-5 relative before:content-['✓'] before:absolute before:left-0 before:text-black">Senior Developer + Support (Previously at Playstation, Apple, 50+ projects)</li>
							<li class="text-sm text-gray-600 py-1 pl-5 relative before:content-['✓'] before:absolute before:left-0 before:text-black">Private Slack Channel</li>
							<li class="text-sm text-gray-600 py-1 pl-5 relative before:content-['✓'] before:absolute before:left-0 before:text-black">No Contracts, Cancel Anytime</li>
							<li class="text-sm text-gray-600 py-1 pl-5 relative before:content-['✓'] before:absolute before:left-0 before:text-black">Software Development (Web/App)</li>
							<li class="text-sm text-gray-600 py-1 pl-5 relative before:content-['✓'] before:absolute before:left-0 before:text-black">Tool Development</li>
							<li class="text-sm text-gray-600 py-1 pl-5 relative before:content-['✓'] before:absolute before:left-0 before:text-black">Automated Testing</li>
						</ul>
					</div>
					<div class="p-6 border border-gray-200 rounded-lg">
						<h4 class="text-base font-semibold mb-3">Pro</h4>
						<p class="text-3xl font-semibold mb-3">$7,500<span class="text-sm font-normal text-gray-500">/month</span></p>
						<ul class="list-none p-0 mt-3">
							<li class="text-sm text-gray-600 py-1 pl-5 relative before:content-['✓'] before:absolute before:left-0 before:text-black">3 updates per week</li>
							<li class="text-sm text-gray-600 py-1 pl-5 relative before:content-['✓'] before:absolute before:left-0 before:text-black">Senior Developer + Support (Previously at Playstation, Apple, 50+ projects)</li>
							<li class="text-sm text-gray-600 py-1 pl-5 relative before:content-['✓'] before:absolute before:left-0 before:text-black">Private Slack Channel</li>
							<li class="text-sm text-gray-600 py-1 pl-5 relative before:content-['✓'] before:absolute before:left-0 before:text-black">No Contracts, Cancel Anytime</li>
							<li class="text-sm text-gray-600 py-1 pl-5 relative before:content-['✓'] before:absolute before:left-0 before:text-black">Software Development (Web/App/AI)</li>
							<li class="text-sm text-gray-600 py-1 pl-5 relative before:content-['✓'] before:absolute before:left-0 before:text-black">AI Tool Development</li>
							<li class="text-sm text-gray-600 py-1 pl-5 relative before:content-['✓'] before:absolute before:left-0 before:text-black">Automated Testing</li>
						</ul>
					</div>
					<div class="p-6 border border-gray-200 rounded-lg">
						<h4 class="text-base font-semibold mb-3">Project Based</h4>
						<p class="text-3xl font-semibold mb-3">By Feature</p>
						<p class="text-sm text-gray-500 leading-relaxed mb-0">Priced per feature. Requires discovery phase.</p>
						<p class="text-xs text-gray-500 mt-3 pt-3 border-t border-gray-200">Starting at $3,000 for discovery, credited towards project work.</p>
					</div>
					<div class="p-6 border border-gray-200 rounded-lg">
						<h4 class="text-base font-semibold mb-3">Performance Based</h4>
						<p class="text-3xl font-semibold mb-3">By Performance</p>
						<p class="text-sm text-gray-500 leading-relaxed mb-0">15-30% of verified savings, or 5-15% of revenue lift.</p>
						<p class="text-xs text-gray-500 mt-3 pt-3 border-t border-gray-200">Starting at $3,000 for discovery, credited towards project work.</p>
					</div>
				</div>
			</section>

		</main>
	</div>
</MainLayout>

<style>
	.tab.active {
		@apply bg-black text-white border-black;
	}
	.tab-content.hidden {
		display: none;
	}
</style>

<script>
	// Tab switching
	const tabs = document.querySelectorAll('.tab');
	const workContent = document.getElementById('work-content');
	const blogContent = document.getElementById('blog-content');

	tabs.forEach(tab => {
		tab.addEventListener('click', () => {
			tabs.forEach(t => t.classList.remove('active'));
			tab.classList.add('active');

			const tabName = tab.getAttribute('data-tab');
			if (tabName === 'work') {
				workContent?.classList.remove('hidden');
				blogContent?.classList.add('hidden');
			} else {
				workContent?.classList.add('hidden');
				blogContent?.classList.remove('hidden');
			}
		});
	});

	// Smooth scroll for pricing button
	document.querySelector('.pricing-btn')?.addEventListener('click', (e) => {
		e.preventDefault();
		document.getElementById('pricing')?.scrollIntoView({ behavior: 'smooth' });
	});
</script>
